(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{268:function(e,t,a){"use strict";a.r(t);var o=a(649),i=a(436);for(var s in i)"default"!==s&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a(703);var n=a(12),l=Object(n.a)(i.default,o.render,o.staticRenderFns,!1,null,"ef68022e",null),r=a(27);r.install(a(1)),r.compatible&&(e.hot.accept(),r.isRecorded("ef68022e")?r.reload("ef68022e",l.options):r.createRecord("ef68022e",l.options),e.hot.accept(649,function(e){o=a(649),r.rerender("ef68022e",{render:o.render,staticRenderFns:o.staticRenderFns})}.bind(this))),l.options.__file="src/components/Login.vue",t.default=l.exports},436:function(e,t,a){"use strict";a.r(t);var o=a(437),i=a.n(o);for(var s in o)"default"!==s&&function(e){a.d(t,e,(function(){return o[e]}))}(s);t.default=i.a},437:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{phone:"",password:"",flag:!0,title:"登录",showMessage:!1,showPassword:!1}},created:function(){this.autoFull()},methods:{loginStatus:function(){var e=this;this.$axios.get("/login/status?date="+(new Date).getTime()).then((function(t){if(200==t.status){var a=t.data.profile.userId;if(200==t.data.code){var o=t.data.profile;e.$store.commit("updateUserLoginStatus",1),localStorage.setItem("loginStatus",1),localStorage.setItem("avatarUrl",o.avatarUrl),localStorage.setItem("nickname",o.nickname),e.$store.commit("updateUserAccountId",a),localStorage.setItem("accountId",a),e._getUserDetail(a)}}})).catch((function(e){console.log(e)}))},_getUserDetail:function(e){var t=this;this.$axios.get("/user/detail?uid="+e).then((function(e){200==e.status&&200==e.data.code&&(t.$store.commit("updateUserLevel",e.data.level),localStorage.setItem("level",e.data.level),t.$store.commit("updateUserProfile",e.data.profile),localStorage.setItem("backgroundUrl",e.data.profile.backgroundUrl),t.$router.replace({path:"/found"}))})).catch((function(e){console.log(e)}))},phoneContent:function(e){return/^1[345789]\d{9}$/.test(e)},determineRegister:function(e){var t=this;this.$axios.get("/cellphone/existence/check?phone="+e).then((function(a){200==a.status&&(-1!==a.data.exist?t.determinePassword(e,t.password):a.data.exist)}))},determinePassword:function(e,t){var a=this;t||(this.showPassword=!0,setTimeout((function(){a.showPassword=!1}),3e3),this.flag=!0),this.isSure(e,t)},isSure:function(e,t){var a=this;this.$axios.get("/login/cellphone?phone="+e+"&password="+t).then((function(t){200==t.status&&(localStorage.setItem("account",e),a.$store.commit("updateLogin",!0),localStorage.setItem("isLogin",!0),a.success())})).catch((function(e){e&&a.error()}))},loginMyMusicAccount:function(){var e=this;this.flag&&(this.flag=!1,this.phoneContent(this.phone)?this.determineRegister(this.phone):(this.showMessage=!0,this.phone="",this.flag=!0,setTimeout((function(){e.showMessage=!1}),3e3)))},success:function(){this.loginStatus()},error:function(){var e=this;this.showPassword=!0,setTimeout((function(){e.showPassword=!1}),3e3),this.flag=!0},autoFull:function(){var e=localStorage.getItem("account");this.phone=e}}}},438:function(e,t,a){var o=a(3),i=a(439);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1},n=o(i,s),l=i.locals?i.locals:{};i.locals||e.hot.accept(439,(function(){var t=a(439);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),n(t)})),e.hot.dispose((function(){n()})),e.exports=l},439:function(e,t,a){(t=a(4)(!1)).push([e.i,".login[data-v-ef68022e]{position:fixed;left:0;top:0;z-index:999;width:100%;height:100%}.login .l-wrap[data-v-ef68022e]{width:100%;position:absolute;left:50%;top:60%;z-index:12;transform:translateX(-50%)}.login .l-wrap .loginbox[data-v-ef68022e]{width:100%;display:flex;flex-direction:column;align-items:center}.login .l-wrap .loginbox .phone[data-v-ef68022e],.login .l-wrap .loginbox .psw[data-v-ef68022e]{width:86%;margin-bottom:1rem}.login .l-wrap .loginbox .phone #phone[data-v-ef68022e],.login .l-wrap .loginbox .phone #psw[data-v-ef68022e],.login .l-wrap .loginbox .psw #phone[data-v-ef68022e],.login .l-wrap .loginbox .psw #psw[data-v-ef68022e]{width:100%;height:36px;outline:none;background:transparent;color:#fff;font-size:16px;letter-spacing:2px;border-bottom:0.5px solid #fff}.login .l-wrap .loginbox .phone input[data-v-ef68022e]::-webkit-input-placeholder,.login .l-wrap .loginbox .psw input[data-v-ef68022e]::-webkit-input-placeholder{color:#00a4ff}.login .l-wrap .loginbox .phone input[data-v-ef68022e]::-moz-input-placeholder,.login .l-wrap .loginbox .psw input[data-v-ef68022e]::-moz-input-placeholder{color:#00a4ff}.login .l-wrap .loginbox .phone input[data-v-ef68022e]::-ms-input-placeholder,.login .l-wrap .loginbox .psw input[data-v-ef68022e]::-ms-input-placeholder{color:#00a4ff}.login .l-wrap .loginbox .phone .e-mess[data-v-ef68022e],.login .l-wrap .loginbox .psw .e-mess[data-v-ef68022e]{width:100%;height:36px;padding-left:16px;box-sizing:border-box;line-height:36px;color:red;font-size:14px}.login .l-wrap .loginbox .phone .e-mess.v-enter[data-v-ef68022e],.login .l-wrap .loginbox .phone .e-mess.v-leave-to[data-v-ef68022e],.login .l-wrap .loginbox .psw .e-mess.v-enter[data-v-ef68022e],.login .l-wrap .loginbox .psw .e-mess.v-leave-to[data-v-ef68022e]{opacity:0.2;transform:scale(0)}.login .l-wrap .loginbox .phone .e-mess.v-enter-active[data-v-ef68022e],.login .l-wrap .loginbox .phone .e-mess.v-leave-active[data-v-ef68022e],.login .l-wrap .loginbox .psw .e-mess.v-enter-active[data-v-ef68022e],.login .l-wrap .loginbox .psw .e-mess.v-leave-active[data-v-ef68022e]{transition:all 0.6s}.login .l-wrap .forget[data-v-ef68022e]{width:100%;display:flex;justify-content:center}.login .l-wrap .forget .for[data-v-ef68022e]{width:86%;text-align:right;font-size:13px;color:rgba(151,53,130,0.623);letter-spacing:1px}.login .l-wrap .btn[data-v-ef68022e]{width:100%;margin-top:1rem;display:flex;justify-content:center}.login .l-wrap .btn .submit[data-v-ef68022e]{width:80%;height:32px;border-radius:16px;border:0;background-image:linear-gradient(#00a4ff, #2ddae8);color:#fff;font-size:14px}.login .welcome[data-v-ef68022e]{background-image:linear-gradient(#00a4ff, #2ddae8);position:absolute;overflow:hidden;top:0;left:0;width:100%;height:100%}.login .welcome h1[data-v-ef68022e]{width:100%;color:#fff;position:absolute;top:30%;left:50%;transform:translate(-50%, -50%);font-size:36px;text-align:center;z-index:1}.login .welcome ul .square_item[data-v-ef68022e]{position:absolute;border:1px solid #fff;width:30px;height:30px;list-style:none;opacity:0;background-color:#fff;top:50%;left:20%;animation:squareit-data-v-ef68022e 10s linear infinite}.login .welcome ul .square_item[data-v-ef68022e]:nth-child(2){top:40%;left:60%;animation-delay:1s}.login .welcome ul .square_item[data-v-ef68022e]:nth-child(3){top:85%;left:60%;animation-delay:2s}.login .welcome ul .square_item[data-v-ef68022e]:nth-child(4){top:10%;left:70%;animation-delay:2.5s}.login .welcome ul .square_item[data-v-ef68022e]:nth-child(5){top:10%;left:10%;animation-delay:4s}.login .welcome ul .ciecle_item[data-v-ef68022e]{position:absolute;border:1px solid #fff;width:30px;height:30px;list-style:none;opacity:0;background-color:#fff;bottom:0;left:15vw;animation:circleit-data-v-ef68022e 10s linear infinite}.login .welcome ul .ciecle_item[data-v-ef68022e]:nth-child(2){left:35vw;animation-delay:0.5s}.login .welcome ul .ciecle_item[data-v-ef68022e]:nth-child(3){bottom:0;left:55vw;animation-delay:6s}.login .welcome ul .ciecle_item[data-v-ef68022e]:nth-child(4){bottom:0;left:75vw;animation-delay:4.5s}.login .welcome ul .ciecle_item[data-v-ef68022e]:nth-child(5){bottom:0;left:90vw;animation-delay:2s}@keyframes squareit-data-v-ef68022e{0%{transform:scale(0) rotateY(0deg);opacity:1}100%{transform:scale(4) rotateY(1000deg);opacity:0}}@keyframes circleit-data-v-ef68022e{0%{transform:scale(0) rotate(0deg);opacity:0.8;bottom:0;border-radius:0}100%{transform:scale(4) rotate(1000deg);opacity:0.1;bottom:90vh;border-radius:50%}}\n",""]),e.exports=t},649:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"l-wrap"},[a("div",{staticClass:"loginbox"},[a("div",{staticClass:"phone"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",placeholder:"手机号",id:"phone"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}}),e._v(" "),a("transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showMessage,expression:"showMessage"}],staticClass:"e-mess"},[e._v("请输入正确的手机号")])])],1),e._v(" "),a("div",{staticClass:"psw"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"密码",id:"psw"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),a("transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPassword,expression:"showPassword"}],staticClass:"e-mess"},[e._v("请输入正确的密码")])])],1)]),e._v(" "),a("div",{staticClass:"forget"},[a("router-link",{staticClass:"for",attrs:{to:"/found"}},[e._v("直接进去")])],1),e._v(" "),a("div",{staticClass:"btn"},[a("button",{staticClass:"submit",domProps:{textContent:e._s(e.title)},on:{click:e.loginMyMusicAccount}})])]),e._v(" "),e._m(0)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"welcome"},[a("h1",[e._v("CLOUD MUSIC")]),e._v(" "),a("div",{staticClass:"square"},[a("ul",{staticClass:"square_ul"},[a("li",{staticClass:"square_item"}),e._v(" "),a("li",{staticClass:"square_item"}),e._v(" "),a("li",{staticClass:"square_item"}),e._v(" "),a("li",{staticClass:"square_item"}),e._v(" "),a("li",{staticClass:"square_item"})])]),e._v(" "),a("div",{staticClass:"ciecle"},[a("ul",{staticClass:"ciecle_ul"},[a("li",{staticClass:"ciecle_item"}),e._v(" "),a("li",{staticClass:"ciecle_item"}),e._v(" "),a("li",{staticClass:"ciecle_item"}),e._v(" "),a("li",{staticClass:"ciecle_item"}),e._v(" "),a("li",{staticClass:"ciecle_item"})])])])}];o._withStripped=!0,a.d(t,"render",(function(){return o})),a.d(t,"staticRenderFns",(function(){return i}))},703:function(e,t,a){"use strict";var o=a(438);a.n(o).a}}]);